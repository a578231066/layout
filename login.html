<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="format-detection" content="telephone=no" /> 
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css" type="text/css" />
    <link rel="stylesheet" href="css/layui/css/layui.css" type="text/css" />
    <link rel="stylesheet" href="css/login.css" type="text/css" />
</head>

<body onload="createCode()">
    <video class="video-player" preload="auto" autoplay="autoplay" loop="loop" data-height="1080" data-width="1920" height="1080" width="1920" >
        <source src="images/login.mp4" type="video/mp4" />
    </video>
    <!-- 此视频文件为支付宝所有，在此仅供样式参考，如用到商业用途，请自行更换为其他视频或图片，否则造成的任何问题使用者本人承担，谢谢 -->
    <div class="video_mask"></div>
    <div class="login">
        <p><img src="images/logo1.png" alt="" /></p>
        <input type="text" placeholder="用户名" />
        <input type="password" placeholder="密码" />
        <input type="text" id="input1" placeholder="验证码" /><input type="text" onclick="createCode()" readonly="readonly" id="checkCode" />
        <button onclick="validate();">登录</button>
    </div>

    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="all/layui/layui.js"></script>
    <script>
        var code; //在全局 定义验证码  
        function createCode() {
          code = "";
          var codeLength = 4;//验证码的长度  
          var checkCode = document.getElementById("checkCode");
          var selectChar = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);//所有候选组成验证码的字符，当然也可以用中文的  
          for (var i = 0; i < codeLength; i++) {
            var charIndex = Math.floor(Math.random() * 10);
            code += selectChar[charIndex];
          }
          //alert(code);
          if (checkCode) {
            checkCode.className = "code";
            checkCode.value = code;
          }
        }
     
        function validate() {
            var inputCode = document.getElementById("input1").value;
            var input1=$(".login input:nth-child(2)").val();
            var input2=$(".login input:nth-child(3)").val();
            if(input1==""){
                alert("用户名不能为空");return;
            }else if(input2==""){
                alert("密码不能为空");return;
            }
            if (inputCode.length <= 0){
                alert("请输入验证码!");
                return;
            }else if (inputCode != code) {
                alert("验证错误!");
                return;
                createCode();//刷新验证码  
            }else{
                alert("登录成功!");
                window.location.href="";
                return;
            }
            
        }
    </script>
</body>
</html>